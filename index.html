<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tile Layout Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="app-header">
        <div class="header-inner">
            <div class="header-brand">
                <svg class="header-icon" viewBox="0 0 28 28" width="28" height="28" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="2" y="2" width="24" height="24" rx="2"/>
                    <line x1="2" y1="10" x2="26" y2="10"/>
                    <line x1="2" y1="18" x2="26" y2="18"/>
                    <line x1="10" y1="2" x2="10" y2="26"/>
                    <line x1="18" y1="2" x2="18" y2="26"/>
                </svg>
                <div>
                    <h1>Tile Layout Planner</h1>
                    <p class="header-tagline">Shower wall visualization &amp; material estimation</p>
                </div>
            </div>
        </div>
    </header>

    <main class="app-main">
        <div class="panel-grid">
            <div class="panel panel-inputs">
                <section class="card">
                    <div class="card-header">
                        <h2>Shower Dimensions</h2>
                    </div>
                    <div class="card-body">
                        <div class="input-grid cols-3">
                            <div class="field">
                                <label for="showerWidth">Width</label>
                                <div class="input-with-unit">
                                    <input type="number" id="showerWidth" min="1" step="0.25" value="36">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                            <div class="field">
                                <label for="showerHeight">Height</label>
                                <div class="input-with-unit">
                                    <input type="number" id="showerHeight" min="1" step="0.25" value="96">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                            <div class="field">
                                <label for="showerDepth">Depth</label>
                                <div class="input-with-unit">
                                    <input type="number" id="showerDepth" min="1" step="0.25" value="36">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <button type="button" id="openImportModal" class="btn-import-trigger">
                    <svg viewBox="0 0 20 20" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 13v3h12v-3"/>
                        <path d="M10 3v8"/>
                        <path d="M7 8l3 3 3-3"/>
                    </svg>
                    Import from product page
                </button>

                <section class="card">
                    <div class="card-header">
                        <h2>Tile Settings</h2>
                    </div>
                    <div class="card-body">
                        <div class="input-grid cols-swap">
                            <div class="field">
                                <label for="tileWidth">Tile Width</label>
                                <div class="input-with-unit">
                                    <input type="number" id="tileWidth" min="0.25" step="0.25" value="3">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                            <button type="button" id="swapTileDims" class="btn-swap" title="Swap width and height">
                                <svg viewBox="0 0 20 20" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M4 7h12l-3-3"/>
                                    <path d="M16 13H4l3 3"/>
                                </svg>
                            </button>
                            <div class="field">
                                <label for="tileHeight">Tile Height</label>
                                <div class="input-with-unit">
                                    <input type="number" id="tileHeight" min="0.25" step="0.25" value="6">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                        </div>
                        <div class="input-grid cols-2" style="margin-top: 12px;">
                            <div class="field">
                                <label for="groutSpacing">Grout Gap</label>
                                <div class="input-with-unit">
                                    <input type="number" id="groutSpacing" min="0" step="0.0625" value="0.125">
                                    <span class="unit">in</span>
                                </div>
                            </div>
                            <div class="field">
                                <label for="tilePattern">Pattern</label>
                                <div class="select-wrapper">
                                    <select id="tilePattern">
                                        <option value="brick-50">Brick Bond (50%)</option>
                                        <option value="brick-33">1/3 Offset</option>
                                        <option value="straight">Straight Stack</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="input-grid cols-2" style="margin-top: 12px;">
                            <div class="field">
                                <label for="tilePrice">Price</label>
                                <div class="input-with-unit">
                                    <span class="unit unit-left">$</span>
                                    <input type="number" id="tilePrice" min="0" step="0.01" placeholder="0.00">
                                </div>
                            </div>
                            <div class="field">
                                <label for="tilePriceUnit">Per</label>
                                <div class="select-wrapper">
                                    <select id="tilePriceUnit">
                                        <option value="">--</option>
                                        <option value="per sq ft">Sq Ft</option>
                                        <option value="per piece">Piece</option>
                                        <option value="per box">Box / Case</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="field coverage-field" id="coverageField" style="margin-top: 12px; display: none;">
                            <label for="tileCoverage">Coverage per Box</label>
                            <div class="input-with-unit">
                                <input type="number" id="tileCoverage" min="0" step="0.1" placeholder="0.0">
                                <span class="unit">ftÂ²</span>
                            </div>
                        </div>
                        <label class="checkbox-field">
                            <input type="checkbox" id="useLedgerBoard">
                            <span class="checkmark"></span>
                            <span class="checkbox-text">Use ledger board (start one row up)</span>
                        </label>
                    </div>
                </section>

                <div class="action-bar">
                    <button id="calculate" class="btn-accent btn-generate">
                        <svg viewBox="0 0 20 20" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="14" height="14" rx="1"/>
                            <line x1="3" y1="8" x2="17" y2="8"/>
                            <line x1="3" y1="13" x2="17" y2="13"/>
                            <line x1="8" y1="3" x2="8" y2="17"/>
                            <line x1="13" y1="3" x2="13" y2="17"/>
                        </svg>
                        Generate Layout
                    </button>
                    <button id="resetDefaults" class="btn-ghost">Reset Defaults</button>
                </div>
            </div>

            <div class="panel panel-output">
                <div class="results-section">
                    <div id="results"></div>
                </div>
            </div>
        </div>
    </main>

    <dialog id="importModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Import Tile Details</h2>
                <button type="button" id="closeImportModal" class="btn-modal-close" aria-label="Close">
                    <svg viewBox="0 0 20 20" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
                        <line x1="5" y1="5" x2="15" y2="15"/>
                        <line x1="15" y1="5" x2="5" y2="15"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p class="import-instructions">
                    Paste a product URL or copy product details from Home Depot, Lowe's, or other retailers.
                    Dimensions and pricing will auto-fill into the tile settings.
                </p>
                <div class="import-controls">
                    <div class="field">
                        <label for="tileImportUrl">Product URL</label>
                        <input type="url" id="tileImportUrl" placeholder="https://www.homedepot.com/p/...">
                    </div>
                    <div class="import-divider"><span>or paste text</span></div>
                    <div class="field">
                        <label for="tileImportText">Product Details</label>
                        <textarea id="tileImportText" placeholder="Paste tile product details here..."></textarea>
                    </div>
                    <div class="import-buttons">
                        <button id="importTile" class="btn-primary">Extract Details</button>
                        <button id="clearImport" class="btn-ghost">Clear</button>
                    </div>
                    <div id="importStatus" class="import-status"></div>
                </div>
                <div class="tile-info-display" id="tileInfoDisplay"></div>
            </div>
        </div>
    </dialog>

    <script src="script.js"></script>
</body>
</html>
